const gameModule=(()=>{"use strict";let e=[];const t=["C","H","D","S"],n=["A","J","Q","K"];let o,r=[];const i=document.querySelector("#btnHit"),s=document.querySelector("#btnStand"),l=document.querySelector("#btnNew"),a=document.querySelectorAll(".cards-container"),c=document.querySelectorAll(".points");s.disabled=!0;const d=(t=2)=>{r=[];for(let e=0;e<t;e++)r.push(0),c[e].innerText=0,a[e].innerHTML="";o=r.length-1,e=u(),i.disabled=!1,s.disabled=!0,l.disabled=!1},u=()=>{e=[];for(let n=2;n<=10;n++)for(const o of t)e.push(n+o);for(const o of n)for(const n of t)e.push(o+n);return _.shuffle(e)},b=()=>{d()},f=t=>{const n=(()=>{if(0===e.length)throw"No more cards in deck";return e.pop()})();r[t]+=(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t})(n),c[t].innerText=r[t];const o=document.createElement("img");o.classList.add("bj-card"),o.src=`assets/cards/${n}.png`,a[t].append(o)},m=e=>{let t=r[o];do{f(o),t=r[o]}while(e>t);setTimeout(()=>{t===e?Swal.fire({icon:"warning",title:"It is a tie",text:"No one wins"}):t>e&&t<=21?Swal.fire({icon:"error",title:"GAME OVER",text:"PC Wons!"}).then(e=>{e.value&&b()}):Swal.fire({icon:"success",title:"Congratulations!!",text:"You won"}).then(e=>{e.value&&b()})})};return i.addEventListener("click",()=>{f(0),s.disabled=!1,r[0]>21?(Swal.fire({icon:"error",title:"GAME OVER",timer:1500}).then(e=>{e.value&&b()}),i.disabled=!0,s.disabled=!0):21===r[0]&&Swal.fire({icon:"success",title:"21, Great!!",text:"Computer`s turn",showConfirmButton:!1,timer:500}).then(e=>{i.disabled=!0,s.disabled=!0,l.disabled=!0,m(r[0])})}),l.addEventListener("click",()=>{r[0]<21||21===r[0]&&0===r[o]?Swal.fire({title:"Are you sure you want to start a new game?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(e=>{e.value&&b()}):b()}),s.addEventListener("click",()=>{s.disabled=!0,l.disabled=!0,i.disabled=!0,m(r[0])}),{newGame:d}})();